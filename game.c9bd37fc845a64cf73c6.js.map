{"version":3,"sources":["webpack:///./src/game.jsx","webpack:///./node_modules/babel-runtime/helpers/asyncToGenerator.js","webpack:///./src/canvas.jsx","webpack:///./src/canvas.scss?c052"],"names":["preact","Game","Component","state","dataChannel","nickname","localStorage","getItem","player","setNickname","setItem","this","setState","changeNickname","connectTo","oponent","componentWillMount","loadNicknameComponent","PeersList","default","Pong","Nickname","render","_","exports","__esModule","obj","_promise","_promise2","fn","gen","apply","arguments","resolve","reject","step","key","arg","info","value","error","done","then","err","children","class","styles","wrapper","module"],"mappings":"2JAAYA,E,wJAAZ,O,IACA,Q,mDAEe,MAAMC,UAAaD,EAAOE,UAAU,kDACjDC,MAAQ,CACNC,YAAa,KACbC,SAAUC,aAAaC,QAAQ,aAAe,GAC9CC,OAAQ,MAJuC,KAsBjDC,YAAeJ,IACbC,aAAaI,QAAQ,WAAYL,GACjCM,KAAKC,SAAS,CAAEP,cAxB+B,KA2BjDQ,eAAiB,KACfF,KAAKC,SAAS,CAAEP,SAAU,MA5BqB,KAqCjDS,UAAY,CAACC,EAASX,KACpBO,KAAKC,SAAS,CAAEG,UAASX,iBAtCsB,EAO3CY,qBAAqB,4CACpB,EAAKb,MAAME,iBACR,EAAKY,yBAEb,EAAKL,SAAS,CACZM,iBAAkB,mCAA6DC,UAEjF,EAAKP,SAAS,CACZQ,YAAa,mCAAiDD,UAE3D,EAAKhB,MAAMkB,iBACR,EAAKJ,2BAXY,GAwBrBA,wBAAwB,4CAC5B,EAAKL,SAAS,CACZS,gBAAiB,mCAAyDF,YAFhD,GAU9BG,OAAOC,GAAG,SACRF,EADQ,UACEH,EADF,KACaE,EADb,YACmBhB,EADnB,SACgCC,EADhC,QAC0CU,IAElD,OACE,IAAC,UAAD,MACIV,GACA,IAACgB,EAAD,CAAUZ,YAAaE,KAAKF,cAE7BJ,IAAaU,GACZ,IAACG,EAAD,CACEb,SAAUA,EACVS,UAAWH,KAAKG,UAChBD,eAAgBF,KAAKE,iBAGxBT,GAAeW,GACd,IAACK,EAAD,CAAMhB,YAAaA,M,UAzDRH,G,iCCDrBuB,EAAQC,YAAa,EAErB,IAIgCC,EAJ5BC,EAAW,EAAQ,IAEnBC,GAE4BF,EAFOC,IAEcD,EAAID,WAAaC,EAAM,CAAEP,QAASO,GAEvFF,EAAQL,QAAU,SAAUU,GAC1B,OAAO,WACL,IAAIC,EAAMD,EAAGE,MAAMpB,KAAMqB,WACzB,OAAO,IAAIJ,EAAUT,SAAQ,SAAUc,EAASC,GAqB9C,OApBA,SAASC,EAAKC,EAAKC,GACjB,IACE,IAAIC,EAAOR,EAAIM,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAN,EAAOM,GAIT,IAAIF,EAAKG,KAGP,OAAOb,EAAUT,QAAQc,QAAQM,GAAOG,MAAK,SAAUH,GACrDJ,EAAK,OAAQI,MACZ,SAAUI,GACXR,EAAK,QAASQ,MALhBV,EAAQM,GAULJ,CAAK,c,kFClClB,I,EAAYnC,E,wJAAZ,OACA,S,8CAEe,EAAG4C,cAChB,WAAKC,MAAOC,UAAOC,SACfH,I,oBCJNI,EAAOxB,QAAU,CAAC,QAAU","file":"game.c9bd37fc845a64cf73c6.js","sourcesContent":["import * as preact from 'preact';\nimport Canvas from './canvas';\n\nexport default class Game extends preact.Component {\n  state = {\n    dataChannel: null,\n    nickname: localStorage.getItem('nickname') || '',\n    player: null,\n  };\n\n  async componentWillMount() {\n    if (!this.state.nickname) {\n      await this.loadNicknameComponent();\n    }\n    this.setState({\n      PeersList: (await import(/* webpackChunkName: \"peers-list\" */ './peers-list')).default,\n    });\n    this.setState({\n      Pong: (await import(/* webpackChunkName: \"pong\" */ './pong')).default,\n    });\n    if (!this.state.Nickname) {\n      await this.loadNicknameComponent();\n    }\n  }\n\n  setNickname = (nickname) => {\n    localStorage.setItem('nickname', nickname);\n    this.setState({ nickname });\n  }\n\n  changeNickname = () => {\n    this.setState({ nickname: '' });\n  }\n\n  async loadNicknameComponent() {\n    this.setState({\n      Nickname: (await import(/* webpackChunkName: \"nickname\" */ './nickname')).default,\n    });\n  }\n\n  connectTo = (oponent, dataChannel) => {\n    this.setState({ oponent, dataChannel });\n  }\n\n  render(_, {\n    Nickname, PeersList, Pong, dataChannel, nickname, oponent,\n  }) {\n    return (\n      <Canvas>\n        {!nickname &&\n          <Nickname setNickname={this.setNickname} />\n        }\n        {nickname && !oponent &&\n          <PeersList\n            nickname={nickname}\n            connectTo={this.connectTo}\n            changeNickname={this.changeNickname}\n          />\n        }\n        {dataChannel && oponent &&\n          <Pong dataChannel={dataChannel} />\n        }\n      </Canvas>\n    );\n  }\n}\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _promise = require(\"../core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new _promise2.default(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return _promise2.default.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};","import * as preact from 'preact';\nimport styles from './canvas.scss';\n\nconst Canvas = ({ children }) => (\n  <div class={styles.wrapper}>\n    { children }\n  </div>\n);\n\nexport default Canvas;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"sWyA\"};"],"sourceRoot":""}