{"version":3,"sources":["webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/babel-runtime/helpers/objectWithoutProperties.js","webpack:///./node_modules/classnames/index.js","webpack:///./src/form-group.scss?3ebc","webpack:///./node_modules/babel-runtime/core-js/object/assign.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./src/form-group.jsx","webpack:///./src/modal.jsx","webpack:///./src/modal.scss?16e7","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/peers-list.jsx","webpack:///./src/peers-list.scss?5eba","webpack:///./src/signaling-server.js"],"names":["exports","__esModule","obj","_assign","_assign2","default","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","keys","indexOf","hasOwn","classNames","classes","arg","argType","push","Array","isArray","inner","apply","join","module","assign","$export","S","F","getKeys","gOPS","pIE","toObject","IObject","$assign","A","B","Symbol","K","split","forEach","k","T","aLen","index","getSymbols","f","isEnum","concat","j","getOwnPropertySymbols","propertyIsEnumerable","preact","label","name","inputRef","children","className","inputProps","class","styles","wrapper","center","for","input","type","id","ref","container","bubble","core","$JSON","JSON","stringify","it","signalingServer","PeerButton","connectTo","props","onClick","nickname","PeersList","Component","state","otherPlayers","askedToken","player","publicId","pc","peerConnection","dataChannel","createDataChannel","onopen","eventSource","close","description","createOffer","setLocalDescription","sendOffer","componentDidMount","RTCPeerConnection","discoverPeers","onicecandidate","e","candidate","sendIceCandidate","ondatachannel","oponent","channel","onmessage","parse","data","action","sender","setState","prevState","addIceCandidate","RTCIceCandidate","e2","setRemoteDescription","RTCSessionDescription","answer","createAnswer","find","p","sendAnswer","filter","onerror","componentWillUnmount","this","render","changeNickname","isLoading","list","baseStyles","centerContent","loader","uList","map","fgStyles","button","response","doFetch","json","privateId","EventSource","feed","iceCandidate","serverBaseAPI","window","SIGNALING_SERVER","location","origin","replace","path","fetch","method","body","headers","mode"],"mappings":"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","file":"peers-list.f44f394d20ca5ec68877.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ioIs\",\"block\":\"XLh3\",\"button\":\"qsqy\",\"center\":\"Sitn\",\"label\":\"csOE XLh3\",\"input\":\"Cx4C XLh3\"};","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","import classNames from 'classnames';\nimport * as preact from 'preact';\nimport styles from './form-group.scss';\n\nconst FormGroup = ({\n  label, name, inputRef, children, className = '', ...inputProps\n}) => (\n  <div class={classNames(styles.wrapper, className, { [styles.center]: !label })}>\n    {label &&\n      <label class={styles.label} for={name}>{label}</label>\n    }\n    {children ||\n      <input class={styles.input} type=\"text\" name={name} id={name} ref={inputRef} {...inputProps} />\n    }\n  </div>\n);\n\nexport default FormGroup;\n","import * as preact from 'preact';\nimport styles from './modal.scss';\n\nconst Modal = ({ children }) => (\n  <div class={styles.container}>\n    <div class={styles.bubble}>\n      { children }\n    </div>\n  </div>\n);\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"L9Pu\",\"bubble\":\"mXxa\"};","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","import classNames from 'classnames';\nimport * as preact from 'preact';\nimport FormGroup from './form-group';\nimport Modal from './modal';\nimport styles from './peers-list.scss';\nimport baseStyles from './base.scss';\nimport fgStyles from './form-group.scss';\nimport * as signalingServer from './signaling-server';\n\nfunction PeerButton({ connectTo, ...props }) {\n  function selectPlayer() {\n    connectTo(props);\n  }\n\n  return (\n    <button onClick={selectPlayer}>{props.nickname}</button>\n  );\n}\n\nexport default class PeersList extends preact.Component {\n  state = {\n    otherPlayers: [],\n  };\n\n  async componentDidMount() {\n    const pc = new RTCPeerConnection();\n    this.peerConnection = pc;\n\n    const eventSource = await signalingServer.discoverPeers(this.props.nickname);\n    this.eventSource = eventSource;\n\n    pc.onicecandidate = (e) => {\n      if (e.candidate) {\n        signalingServer.sendIceCandidate(e.candidate);\n      }\n    };\n\n    pc.ondatachannel = (e) => {\n      eventSource.close();\n      this.props.connectTo(this.oponent, e.channel);\n    };\n\n    eventSource.onmessage = async (e) => {\n      const { action, data, sender } = JSON.parse(e.data);\n\n      if (action === 'add') {\n        this.setState(prevState => ({\n          otherPlayers: [...prevState.otherPlayers, data],\n        }));\n      }\n\n      if (action === 'iceCandidate') {\n        try {\n          await pc.addIceCandidate(new RTCIceCandidate(data));\n        } catch (e2) {\n          // invalid ICE candidate\n        }\n      }\n\n      if (action === 'offer') {\n        await pc.setRemoteDescription(new RTCSessionDescription(data));\n        const answer = await pc.createAnswer();\n        await pc.setLocalDescription(answer);\n        this.oponent = this.state.otherPlayers.find(p => p.publicId === sender);\n        await signalingServer.sendAnswer(sender, answer);\n      }\n\n      if (action === 'answer' && sender === this.askedToken) {\n        await pc.setRemoteDescription(new RTCSessionDescription(data));\n      }\n\n      if (action === 'remove') {\n        this.setState(prevState => ({\n          otherPlayers: prevState.otherPlayers.filter(player => (\n            player.publicId !== data.publicId\n          )),\n        }));\n      }\n\n      eventSource.onerror = () => {\n        eventSource.close();\n        this.setState({ otherPlayers: [] });\n      };\n    };\n  }\n\n  componentWillUnmount() {\n    this.eventSource.close();\n  }\n\n  askedToken = null;\n\n  connectTo = async (player) => {\n    this.askedToken = player.publicId;\n    const pc = this.peerConnection;\n    const dataChannel = pc.createDataChannel('data');\n    dataChannel.onopen = () => {\n      this.eventSource.close();\n      this.props.connectTo(player, dataChannel);\n    };\n    const description = await pc.createOffer();\n    await pc.setLocalDescription(description);\n    await signalingServer.sendOffer(player.publicId, description);\n  }\n\n  render({ changeNickname }, { otherPlayers }) {\n    const isLoading = otherPlayers.length === 0;\n    return (\n      <Modal>\n        <FormGroup label=\"Other players\">\n          <div class={classNames(styles.list, { [baseStyles.centerContent]: isLoading })}>\n            {isLoading ?\n              <div class={styles.loader} />\n            :\n              <div class={styles.uList}>\n                {otherPlayers.map(player => (\n                  <PeerButton {...player} connectTo={this.connectTo} />\n                ))}\n              </div>\n            }\n          </div>\n        </FormGroup>\n        <FormGroup>\n          <button class={fgStyles.button} onClick={changeNickname}>Change my nickname</button>\n        </FormGroup>\n      </Modal>\n    );\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"X1Fl\",\"loader\":\"nP8F\",\"spin\":\"ZMcY\",\"uList\":\"ispQ\"};","const serverBaseAPI = window.SIGNALING_SERVER ||\n  `${window.location.origin.replace(/:[0-9]+$/, ':3000')}/`;\nlet privateId;\n\nfunction doFetch(path, data) {\n  return fetch(serverBaseAPI + path, {\n    method: 'POST',\n    body: JSON.stringify({ privateId, data }),\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n    },\n    mode: 'cors',\n  });\n}\n\nexport async function discoverPeers(nickname) {\n  const response = await doFetch('register', { nickname });\n  const data = await response.json();\n  ({ privateId } = data);\n  return new EventSource(data.feed);\n}\n\nexport function sendIceCandidate(iceCandidate) {\n  doFetch('iceCandidate', { iceCandidate });\n}\n\nexport function sendOffer(publicId, description) {\n  doFetch('offer', { description, publicId });\n}\n\nexport function sendAnswer(publicId, description) {\n  doFetch('answer', { description, publicId });\n}\n"],"sourceRoot":""}